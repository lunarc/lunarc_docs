<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Quick reference - Lunarc Documentation</title>
  

  <link rel="shortcut icon" href="../img/favicon.ico">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../css/highlight.css">

  
  <script>
    // Current page data
    var mkdocs_page_name = "Quick reference";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js"></script>
  <script src="../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../js/highlight.pack.js"></script>
  <script src="../js/theme.js"></script> 

  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> Lunarc Documentation</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        <ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="..">Home</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../login_howto/">How to login</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 current">
        <a class="current" href="./">Quick reference</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#installed-softwared-software">Installed softwared software</a></li>
                
            
                <li class="toctree-l3"><a href="#resource-allocation">Resource allocation</a></li>
                
                    <li><a class="toctree-l4" href="#number-of-cores">Number of cores</a></li>
                
                    <li><a class="toctree-l4" href="#memory-per-core">Memory per core</a></li>
                
            
                <li class="toctree-l3"><a href="#file-systems">File systems</a></li>
                
                    <li><a class="toctree-l4" href="#home-directory">Home directory</a></li>
                
                    <li><a class="toctree-l4" href="#global-working-directory">Global working directory</a></li>
                
                    <li><a class="toctree-l4" href="#local-working-directory">Local working directory</a></li>
                
                    <li><a class="toctree-l4" href="#quotas">Quotas</a></li>
                
            
                <li class="toctree-l3"><a href="#test-queues">Test queues</a></li>
                
            
            </ul>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../batch_system/">Batch system</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../aurora_modules/">Aurora Software</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../linux_basics/">Linux Basics</a>
        
    </li>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">Lunarc Documentation</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>Quick reference</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <p>Useful hints and short information on issues that may vary between the different systems</p>
<h1 id="installed-softwared-software">Installed softwared software</h1>
<p>To see the installed software available through the modules system, issue the command</p>
<pre><code>module avail
</code></pre>
<p>To see the currently loaded modules</p>
<pre><code>module list
</code></pre>
<p>To load a module</p>
<pre><code>module add &lt;module_name&gt;
</code></pre>
<p>To unload a module</p>
<pre><code>module del &lt;module_name&gt;
</code></pre>
<h1 id="resource-allocation">Resource allocation</h1>
<h2 id="number-of-cores">Number of cores</h2>
<p>The number of cores for a job is specified in the batch script in the format</p>
<pre><code>#SBATCH -N &lt;number_of_nodes&gt;
#SBATCH --tasks-per-node=&lt;number_of_cores_per_node&gt;
</code></pre>
<p>Alarik has 16 cores per node. On this system, 64 cores would be allocated through</p>
<pre><code># 64 cores on Alarik
#SBATCH -N 4 #SBACTH --tasks-per-node=16
</code></pre>
<h2 id="memory-per-core">Memory per core</h2>
<p>The amount of memory per core is specified in the format</p>
<pre><code>#SBATCH --mem-per-cpu=&lt;amount_of_memory_per_core_in_MB&gt;
</code></pre>
<p>Alarik has nodes with 32 GB and 64 GB memory. The default allocation per core is therefore 2000 MB to match the smaller memory. To fully utilise the memory on the 64 GB nodes, the nodes have to requested specifically with <strong>-C mem64GB</strong> and the memory per core should be set to 4000 MB .</p>
<pre><code># Twice the default amount of memory per core on Alarik nodes with 64 GB memory 
#SBATCH -C mem64GB #SBATCH --mem-per-cpu=4000
</code></pre>
<h1 id="file-systems">File systems</h1>
<h2 id="home-directory">Home directory</h2>
<p>Currently all Lunarc systems have a home directory that is different for each system, i.e., the login directory for user xxxx is</p>
<pre><code>/home/xxxx
</code></pre>
<p>This directory can be referenced as <strong>$HOME</strong>.</p>
<p>As a rule, the home directory should not be used for job submission. It is intended for storing important files, such as the source code of user programs, and, of course, environment files, such as .bashrc.</p>
<h2 id="global-working-directory">Global working directory</h2>
<p>For job submission, there is a centre file system common to all Lunarc systems:</p>
<pre><code>/lunarc/nobackup/users/xxxx
</code></pre>
<p>Here the xxxx has to be replaced with your userid.</p>
<h2 id="local-working-directory">Local working directory</h2>
<p>When a job is running, it has access to a temporary directory on the local disk of each allocated node. The directory can be referenced as <strong>$SNIC_TMP</strong> (or <strong>$TMPDIR</strong>). It will be deleted when the job finishes.</p>
<p>If a job is terminated prematurely, for example, if it exceeds the requested walltime, the files on the local disk will be lost. Files that would still be useful can be listed in a special file <strong>$SNIC_TMP/slurm_save_files</strong>. Filenames are assumed to be relative to <strong>$SNIC_TMP</strong> and should be separated by spaces or listed on separate lines. These files will be copied to the submission directory regardless whether the job ends as planned or is deleted, unless there is a problem with the disk or node itself.</p>
<h2 id="quotas">Quotas</h2>
<p>To limit the disk usage, quotas are set for each user and filesystem. The status can be seen at login. A quota report can also be obtained by issuing the command</p>
<pre><code>snicquota
</code></pre>
<p>The quota can be increased on request.</p>
<h1 id="test-queues">Test queues</h1>
<p>On Alarik, it is possible to request extra high priority to run short tests (maximum 1h) using at most 2 nodes using</p>
<pre><code>#SBATCH --qos=test
</code></pre>
<p>Floating reservations are used to free two nodes every second hour between 8.00 and 20.00 to reduce the queue time for test jobs, which means that a shorter walltime increases likelihood of an earlier start. Only two such test jobs are allowed to run at the same time.</p>
<p>On Erik there is one two-GPU node reserved for tests (maximum 1 h) in a partition of its own, which is specified with</p>
<pre><code>#SBATCH -p test
</code></pre>
<p>It is not allowed to submit long series of jobs to a test queue. </p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../batch_system/" class="btn btn-neutral float-right" title="Batch system"/>Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../login_howto/" class="btn btn-neutral" title="How to login"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../login_howto/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../batch_system/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>

</body>
</html>
